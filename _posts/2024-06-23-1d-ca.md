---
layout: post
title: 1D CA
date: 2024-06-23 23:24 -0400
permalink: /1dca/
categories: math cs
thumbnail: img/110_RANDOM.webp
---

## Elementary Cellular Automata

## Code

```
import numpy as np
import cv2

RESOLUTION = 1023


cells = np.zeros((RESOLUTION, RESOLUTION), dtype=np.uint8)

# Seed

dens = 0.5
cells[0, :] = np.random.choice([0, 1], RESOLUTION, p=[1 - dens, dens])

# cells[0, RESOLUTION // 2] = 1


# We'll assign the rule in [0, 255]
rule = 110


# Now let's calculate
for i in range(1, RESOLUTION):
    for j in range(RESOLUTION):
        left = cells[i-1, (j-1) % RESOLUTION]
        center = cells[i-1, j]
        right = cells[i-1, (j+1) % RESOLUTION]

        # bit shift magic
        value = (rule >> (4*left + 2*center + right)) & 1

        cells[i, j] = value


cells *= 255


# Color
# First make 3 channels for the image
cells = np.expand_dims(cells, axis=-1)
cells = np.repeat(cells, 3, axis=-1)
cells = cv2.cvtColor(cells, cv2.COLOR_RGB2HLS_FULL)


a = np.linspace(0, np.pi, RESOLUTION)


cells[:, :, 0] = 32 * np.sin(a) + 180
cells[:, :, 1] = 255 - 0.5 * cells[:, :, 1]
cells[:, :, 2] = 127


cells = cells.astype(np.uint8)

cells = cv2.cvtColor(cells, cv2.COLOR_HLS2BGR_FULL)

cv2.imshow('1D CA', cells)
cv2.waitKey(0)
```


## Gallery

### Rule 153
![153](/img/153.webp)

### Rule 110
![110](/img/110.webp)